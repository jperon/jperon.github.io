function t(t,r,e,n){Object.defineProperty(t,r,{get:e,set:n,enumerable:!0,configurable:!0})}var r={};t(r,"create_table",()=>K),t(r,"query",()=>J),t(r,"q",()=>V),t(r,"reply",()=>X),t(r,"ctrl_enter",()=>G);// Transcrypt'ed from Python, 2023-09-30 22:39:24
// Transcrypt'ed from Python, 2023-09-30 19:03:51
var e="org.transcrypt.__runtime__",n={};function i(t,r,e){return t&&(t.hasOwnProperty("__class__")||"string"==typeof t||t instanceof String)?(e&&Object.defineProperty(t,e,{value:function(){var e=[].slice.apply(arguments);return r.apply(null,[t].concat(e))},writable:!0,enumerable:!0,configurable:!0}),function(){var e=[].slice.apply(arguments);return r.apply(null,[t.__proxy__?t.__proxy__:t].concat(e))}):r}n.interpreter_name="python",n.transpiler_name="transcrypt",n.executor_name=n.transpiler_name,n.transpiler_version="3.9.0";var _={__name__:"type",__bases__:[],__new__:function(t,r,e,n){for(var i=function(){var t=[].slice.apply(arguments);return i.__new__(t)},_=e.length-1;_>=0;_--){var o=e[_];for(var s in o){var a=Object.getOwnPropertyDescriptor(o,s);null!=a&&Object.defineProperty(i,s,a)}for(let t of Object.getOwnPropertySymbols(o)){let r=Object.getOwnPropertyDescriptor(o,t);Object.defineProperty(i,t,r)}}for(var s in i.__metaclass__=t,i.__name__=r.startsWith("py_")?r.slice(3):r,i.__bases__=e,n){var a=Object.getOwnPropertyDescriptor(n,s);Object.defineProperty(i,s,a)}for(let t of Object.getOwnPropertySymbols(n)){let r=Object.getOwnPropertyDescriptor(n,t);Object.defineProperty(i,t,r)}return i}};_.__metaclass__=_;var o={__init__:function(t){},__metaclass__:_,__name__:"object",__bases__:[],__new__:function(t){var r=Object.create(this,{__class__:{value:this,enumerable:!0}});return("__getattr__"in this||"__setattr__"in this)&&(r.__proxy__=new Proxy(r,{get:function(t,r){let e=t[r];return void 0==e?t.__getattr__(r):e},set:function(t,r,e){try{t.__setattr__(r,e)}catch(n){t[r]=e}return!0}}),r=r.__proxy__),this.__init__.apply(null,[r].concat(t)),r}};function s(t,r,e,n){return void 0===n&&(n=r[0].__metaclass__),n.__new__(n,t,r,e)}function a(t){return t.__kwargtrans__=null,t.constructor=Object,t}function u(t,r,e){t.hasOwnProperty(r)||Object.defineProperty(t,r,e)}function l(t){return t.startswith("__")&&t.endswith("__")||"constructor"==t||t.startswith("py_")}function c(t){if(null==t)return 0;if(t.__len__ instanceof Function)return t.__len__();if(void 0!==t.length)return t.length;var r=0;for(var e in t)!l(e)&&r++;return r}function p(t){if("inf"==t)return 1/0;if("-inf"==t)return-1/0;if("nan"==t)return NaN;if(!isNaN(parseFloat(t)))return+t;if(!1===t)return 0;if(!0===t)return 1;throw H("could not convert string to float: '"+S(t)+"'",Error())}function f(t){return 0|p(t)}function h(t){return!!(null!=t&&(["boolean","number"].indexOf(typeof t)>=0?t:t.__bool__ instanceof Function?!!t.__bool__()&&t:t.__len__ instanceof Function?0!==t.__len__()&&t:t instanceof Function?t:0!==c(t)&&t))}function y(t){var r=typeof t;if("object"!=r)return"boolean"==r?h:"string"==r?S:"number"==r?t%1==0?f:p:null;try{return"__class__"in t?t.__class__:o}catch(t){return r}}function d(t,r){if(r instanceof Array){for(let e of r)if(d(t,e))return!0;return!1}try{var e=t;if(e==r)return!0;for(var n=[].slice.call(e.__bases__);n.length;){if((e=n.shift())==r)return!0;e.__bases__.length&&(n=[].slice.call(e.__bases__).concat(n))}return!1}catch(e){return t==r||r==o}}function g(t,r){try{return"__class__"in t?d(t.__class__,r):d(y(t),r)}catch(e){return d(y(t),r)}}function v(t){try{return t.__repr__()}catch(_){try{return t.__str__()}catch(_){try{if(null==t)return"None";if(t.constructor!=Object)return"boolean"==typeof t?t.toString().capitalize():t.toString();var r="{",e=!1;for(var n in t)if(!l(n)){if(n.isnumeric())var i=n;else var i="'"+n+"'";e?r+=", ":e=!0,r+=i+": "+v(t[n])}return r+="}"}catch(r){return"<object of type: "+typeof t+">"}}}}function m(t){this.iterable=t,this.index=0}function b(t){this.iterable=t,this.index=0}function w(t){return t?Array.from(t):[]}function A(t){let r=t?[].slice.apply(t):[];return r.__class__=A,r}function O(t){let r=[];if(t)for(let e=0;e<t.length;e++)r.add(t[e]);return r.__class__=O,r}function S(t){if("number"==typeof t)return t.toString();try{return t.__str__()}catch(r){try{return v(t)}catch(r){return String(t)}}}function x(t){return this.hasOwnProperty(t)}function j(){var t=[];for(var r in this)l(r)||t.push(r);return t}function k(){var t=[];for(var r in this)l(r)||t.push([r,this[r]]);return t}function E(t){delete this[t]}function P(){for(var t in this)delete this[t]}function q(t,r){var e=this[t];return void 0==e&&(e=this["py_"+t]),void 0==e?void 0==r?null:r:e}function C(t,r){var e=this[t];if(void 0!=e)return e;var n=void 0==r?null:r;return this[t]=n,n}function N(t,r){var e=this[t];if(void 0!=e)return delete this[t],e;if(void 0===r)throw B(t,Error());return r}function T(){var t=Object.keys(this)[0];if(null==t)throw B("popitem(): dictionary is empty",Error());var r=A([t,this[t]]);return delete this[t],r}function U(t){for(var r in t)this[r]=t[r]}function F(){var t=[];for(var r in this)l(r)||t.push(this[r]);return t}function I(t){return this[t]}function $(t,r){this[t]=r}function z(t){var r={};if(!t||t instanceof Array){if(t)for(var e=0;e<t.length;e++){var n=t[e];if(!(n instanceof Array)||2!=n.length)throw H("dict update sequence element #"+e+" has length "+n.length+"; 2 is required",Error());var i=n[0],_=n[1];t instanceof Array||!(t instanceof Object)||g(t,z)||(_=z(_)),r[i]=_}}else if(g(t,z))for(var o=t.py_keys(),e=0;e<o.length;e++){var i=o[e];r[i]=t[i]}else if(t instanceof Object)r=t;else throw H("Invalid type of object for dict creation",Error());return u(r,"__class__",{value:z,enumerable:!1,writable:!0}),u(r,"__contains__",{value:x,enumerable:!1}),u(r,"py_keys",{value:j,enumerable:!1}),u(r,"__iter__",{value:function(){new m(this.py_keys())},enumerable:!1}),u(r,Symbol.iterator,{value:function(){new b(this.py_keys())},enumerable:!1}),u(r,"py_items",{value:k,enumerable:!1}),u(r,"py_del",{value:E,enumerable:!1}),u(r,"py_clear",{value:P,enumerable:!1}),u(r,"py_get",{value:q,enumerable:!1}),u(r,"py_setdefault",{value:C,enumerable:!1}),u(r,"py_pop",{value:N,enumerable:!1}),u(r,"py_popitem",{value:T,enumerable:!1}),u(r,"py_update",{value:U,enumerable:!1}),u(r,"py_values",{value:F,enumerable:!1}),u(r,"__getitem__",{value:I,enumerable:!1}),u(r,"__setitem__",{value:$,enumerable:!1}),r}n.executor_name=n.transpiler_name,p.__name__="float",p.__bases__=[o],f.__name__="int",f.__bases__=[o],h.__name__="bool",h.__bases__=[f],m.prototype.__next__=function(){if(this.index<this.iterable.length)return this.iterable[this.index++];throw W(Error())},b.prototype.next=function(){return this.index<this.iterable.py_keys.length?{value:this.index++,done:!1}:{value:void 0,done:!0}},Array.prototype.__class__=w,w.__name__="list",w.__bases__=[o],Array.prototype.__iter__=function(){return new m(this)},Array.prototype.__getslice__=function(t,r,e){if(t<0&&(t=this.length+t),null==r?r=this.length:r<0?r=this.length+r:r>this.length&&(r=this.length),1==e)return Array.prototype.slice.call(this,t,r);let n=w([]);for(let i=t;i<r;i+=e)n.push(this[i]);return n},Array.prototype.__setslice__=function(t,r,e,n){if(t<0&&(t=this.length+t),null==r?r=this.length:r<0&&(r=this.length+r),null==e)Array.prototype.splice.apply(this,[t,r-t].concat(n));else{let i=0;for(let _=t;_<r;_+=e)this[_]=n[i++]}},Array.prototype.__repr__=function(){if(this.__class__==O&&!this.length)return"set()";let t=this.__class__&&this.__class__!=w?this.__class__==A?"(":"{":"[";for(let r=0;r<this.length;r++)r&&(t+=", "),t+=v(this[r]);return this.__class__==A&&1==this.length&&(t+=","),t+=this.__class__&&this.__class__!=w?this.__class__==A?")":"}":"]"},Array.prototype.__str__=Array.prototype.__repr__,Array.prototype.append=function(t){this.push(t)},Array.prototype.py_clear=function(){this.length=0},Array.prototype.extend=function(t){this.push.apply(this,t)},Array.prototype.insert=function(t,r){this.splice(t,0,r)},Array.prototype.remove=function(t){let r=this.indexOf(t);if(-1==r)throw H("list.remove(x): x not in list",Error());this.splice(r,1)},Array.prototype.index=function(t){return this.indexOf(t)},Array.prototype.py_pop=function(t){return void 0==t?this.pop():this.splice(t,1)[0]},Array.prototype.py_sort=function(){R.apply(null,[this].concat([].slice.apply(arguments)))},Array.prototype.__add__=function(t){return w(this.concat(t))},Array.prototype.__mul__=function(t){let r=this;for(let e=1;e<t;e++)r=r.concat(this);return r},Array.prototype.__rmul__=Array.prototype.__mul__,A.__name__="tuple",A.__bases__=[o],O.__name__="set",O.__bases__=[o],Array.prototype.__bindexOf__=function(t){t+="";let r=0,e=this.length-1;for(;r<=e;){let n=(r+e)/2|0,i=this[n]+"";if(i<t)r=n+1;else{if(!(i>t))return n;e=n-1}}return -1},Array.prototype.add=function(t){-1==this.indexOf(t)&&this.push(t)},Array.prototype.discard=function(t){var r=this.indexOf(t);-1!=r&&this.splice(r,1)},Array.prototype.isdisjoint=function(t){this.sort();for(let r=0;r<t.length;r++)if(-1!=this.__bindexOf__(t[r]))return!1;return!0},Array.prototype.issuperset=function(t){this.sort();for(let r=0;r<t.length;r++)if(-1==this.__bindexOf__(t[r]))return!1;return!0},Array.prototype.issubset=function(t){return O(t.slice()).issuperset(this)},Array.prototype.union=function(t){let r=O(this.slice().sort());for(let e=0;e<t.length;e++)-1==r.__bindexOf__(t[e])&&r.push(t[e]);return r},Array.prototype.intersection=function(t){this.sort();let r=O();for(let e=0;e<t.length;e++)-1!=this.__bindexOf__(t[e])&&r.push(t[e]);return r},Array.prototype.difference=function(t){let r=O(t.slice().sort()),e=O();for(let t=0;t<this.length;t++)-1==r.__bindexOf__(this[t])&&e.push(this[t]);return e},Array.prototype.symmetric_difference=function(t){return this.union(t).difference(this.intersection(t))},Array.prototype.py_update=function(){let t=[].concat.apply(this.slice(),arguments).sort();this.py_clear();for(let r=0;r<t.length;r++)t[r]!=t[r-1]&&this.push(t[r])},Array.prototype.__eq__=function(t){if(this.length!=t.length)return!1;this.__class__==O&&(this.sort(),t.sort());for(let r=0;r<this.length;r++)if(this[r]!=t[r])return!1;return!0},Array.prototype.__ne__=function(t){return!this.__eq__(t)},Array.prototype.__le__=function(t){if(this.__class__==O)return this.issubset(t);for(let r=0;r<this.length;r++){if(this[r]>t[r])return!1;if(this[r]<t[r])break}return!0},Array.prototype.__ge__=function(t){if(this.__class__==O)return this.issuperset(t);for(let r=0;r<this.length;r++){if(this[r]<t[r])return!1;if(this[r]>t[r])break}return!0},Array.prototype.__lt__=function(t){return this.__class__==O?this.issubset(t)&&!this.issuperset(t):!this.__ge__(t)},Array.prototype.__gt__=function(t){return this.__class__==O?this.issuperset(t)&&!this.issubset(t):!this.__le__(t)},Uint8Array.prototype.__add__=function(t){let r=new Uint8Array(this.length+t.length);return r.set(this),r.set(t,this.length),r},Uint8Array.prototype.__mul__=function(t){let r=new Uint8Array(t*this.length);for(let e=0;e<t;e++)r.set(this,e*this.length);return r},Uint8Array.prototype.__rmul__=Uint8Array.prototype.__mul__,String.prototype.__class__=S,S.__name__="str",S.__bases__=[o],String.prototype.__iter__=function(){new m(this)},String.prototype.__repr__=function(){return(-1==this.indexOf("'")?"'"+this+"'":'"'+this+'"').py_replace("	","\\t").py_replace("\n","\\n")},String.prototype.__str__=function(){return this},String.prototype.capitalize=function(){return this.charAt(0).toUpperCase()+this.slice(1)},String.prototype.endswith=function(t){if(!(t instanceof Array))return""==t||this.slice(-t.length)==t;for(var r=0;r<t.length;r++)if(this.slice(-t[r].length)==t[r])return!0;return!1},String.prototype.find=function(t,r){return this.indexOf(t,r)},String.prototype.__getslice__=function(t,r,e){t<0&&(t=this.length+t),null==r?r=this.length:r<0&&(r=this.length+r);var n="";if(1==e)n=this.substring(t,r);else for(var i=t;i<r;i+=e)n=n.concat(this.charAt(i));return n},u(String.prototype,"format",{get:function(){return i(this,function(t){var r=A([].slice.apply(arguments).slice(1)),e=0;return t.replace(/\{(\w*)\}/g,function(t,n){if(""==n&&(n=e++),n==+n)return void 0===r[n]?t:S(r[n]);for(var i=0;i<r.length;i++)if("object"==typeof r[i]&&void 0!==r[i][n])return S(r[i][n]);return t})})},enumerable:!0}),String.prototype.isalnum=function(){return/^[0-9a-zA-Z]{1,}$/.test(this)},String.prototype.isalpha=function(){return/^[a-zA-Z]{1,}$/.test(this)},String.prototype.isdecimal=function(){return/^[0-9]{1,}$/.test(this)},String.prototype.isdigit=function(){return this.isdecimal()},String.prototype.islower=function(){return/^[a-z]{1,}$/.test(this)},String.prototype.isupper=function(){return/^[A-Z]{1,}$/.test(this)},String.prototype.isspace=function(){return/^[\s]{1,}$/.test(this)},String.prototype.isnumeric=function(){return!isNaN(parseFloat(this))&&isFinite(this)},String.prototype.join=function(t){return(t=Array.from(t)).join(this)},String.prototype.lower=function(){return this.toLowerCase()},String.prototype.py_replace=function(t,r,e){return this.split(t,e).join(r)},String.prototype.lstrip=function(){return this.replace(/^\s*/g,"")},String.prototype.rfind=function(t,r){return this.lastIndexOf(t,r)},String.prototype.rsplit=function(t,r){if(void 0==t||null==t){t=/\s+/;var e=this.strip()}else var e=this;if(void 0==r||-1==r)return e.split(t);var n=e.split(t);if(!(r<n.length))return n;var i=n.length-r;return[n.slice(0,i).join(t)].concat(n.slice(i))},String.prototype.rstrip=function(){return this.replace(/\s*$/g,"")},String.prototype.py_split=function(t,r){if(void 0==t||null==t){t=/\s+/;var e=this.strip()}else var e=this;if(void 0==r||-1==r)return e.split(t);var n=e.split(t);return r<n.length?n.slice(0,r).concat([n.slice(r).join(t)]):n},String.prototype.startswith=function(t){if(!(t instanceof Array))return 0==this.indexOf(t);for(var r=0;r<t.length;r++)if(0==this.indexOf(t[r]))return!0;return!1},String.prototype.strip=function(){return this.trim()},String.prototype.upper=function(){return this.toUpperCase()},String.prototype.__mul__=function(t){for(var r="",e=0;e<t;e++)r+=this;return r},String.prototype.__rmul__=String.prototype.__mul__,z.__name__="dict",z.__bases__=[o],u(Function.prototype,"__setdoc__",{value:function(t){return this.__doc__=t,this},enumerable:!1});var D=s("BaseException",[o],{__module__:e}),L=s("Exception",[D],{__module__:e,get __init__(){return i(this,function(t){var r=z();if(arguments.length){var e=arguments.length-1;if(arguments[e]&&arguments[e].hasOwnProperty("__kwargtrans__")){var n=arguments[e--];for(var i in n)if("self"===i)var t=n[i];else r[i]=n[i];delete r.__kwargtrans__}var _=A([].slice.apply(arguments).slice(1,e+1))}else var _=A();t.__args__=_,null!=r.error?t.stack=r.error.stack:Error?t.stack=Error().stack:t.stack="No stack trace available"})},get __repr__(){return i(this,function(t){return c(t.__args__)>1?"{}{}".format(t.__class__.__name__,v(A(t.__args__))):c(t.__args__)?"{}({})".format(t.__class__.__name__,v(t.__args__[0])):"{}()".format(t.__class__.__name__)})},get __str__(){return i(this,function(t){return c(t.__args__)>1?S(A(t.__args__)):c(t.__args__)?S(t.__args__[0]):""})}});s("IterableError",[L],{__module__:e,get __init__(){return i(this,function(t,r){L.__init__(t,"Can't iterate over non-iterable",a({error:r}))})}});var W=s("StopIteration",[L],{__module__:e,get __init__(){return i(this,function(t,r){L.__init__(t,"Iterator exhausted",a({error:r}))})}}),H=s("ValueError",[L],{__module__:e,get __init__(){return i(this,function(t,r,e){L.__init__(t,r,a({error:e}))})}}),B=s("KeyError",[L],{__module__:e,get __init__(){return i(this,function(t,r,e){L.__init__(t,r,a({error:e}))})}});s("AssertionError",[L],{__module__:e,get __init__(){return i(this,function(t,r,e){r?L.__init__(t,r,a({error:e})):L.__init__(t,a({error:e}))})}}),s("NotImplementedError",[L],{__module__:e,get __init__(){return i(this,function(t,r,e){L.__init__(t,r,a({error:e}))})}}),s("IndexError",[L],{__module__:e,get __init__(){return i(this,function(t,r,e){L.__init__(t,r,a({error:e}))})}}),s("AttributeError",[L],{__module__:e,get __init__(){return i(this,function(t,r,e){L.__init__(t,r,a({error:e}))})}}),s("py_TypeError",[L],{__module__:e,get __init__(){return i(this,function(t,r,e){L.__init__(t,r,a({error:e}))})}});var M=s("Warning",[L],{__module__:e});s("UserWarning",[M],{__module__:e}),s("DeprecationWarning",[M],{__module__:e}),s("RuntimeWarning",[M],{__module__:e});var R=function(t,r,e){if(void 0===r||null!=r&&r.hasOwnProperty("__kwargtrans__"))var r=null;if(void 0===e||null!=e&&e.hasOwnProperty("__kwargtrans__"))var e=!1;if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var i=arguments[n--];for(var _ in i)switch(_){case"iterable":var t=i[_];break;case"key":var r=i[_];break;case"reverse":var e=i[_]}}}r?t.sort(function(t,e){if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var i=arguments[n--];for(var _ in i)switch(_){case"a":var t=i[_];break;case"b":var e=i[_]}}}return r(t)>r(e)?1:-1}):t.sort(),e&&t.reverse()},Z=s("__Terminal__",[o],{__module__:e,get __init__(){return i(this,function(t){t.buffer="";try{t.element=document.getElementById("__terminal__")}catch(r){t.element=null}t.element&&(t.element.style.overflowX="auto",t.element.style.boxSizing="border-box",t.element.style.padding="5px",t.element.innerHTML="_")})},get print(){return i(this,function(t){var r=" ",e="\n";if(arguments.length){var n=arguments.length-1;if(arguments[n]&&arguments[n].hasOwnProperty("__kwargtrans__")){var i=arguments[n--];for(var _ in i)switch(_){case"self":var t=i[_];break;case"sep":var r=i[_];break;case"end":var e=i[_]}}var o=A([].slice.apply(arguments).slice(1,n+1))}else var o=A();t.buffer="{}{}{}".format(t.buffer,r.join(function(){var t=[];for(var r of o)t.append(S(r));return t}()),e).__getslice__(-4096,null,1),t.element?(t.element.innerHTML=t.buffer.py_replace("\n","<br>").py_replace(" ","&nbsp"),t.element.scrollTop=t.element.scrollHeight):console.log(r.join(function(){var t=[];for(var r of o)t.append(S(r));return t}()))})},get input(){return i(this,function(t,r){if(arguments.length){var e=arguments.length-1;if(arguments[e]&&arguments[e].hasOwnProperty("__kwargtrans__")){var n=arguments[e--];for(var i in n)switch(i){case"self":var t=n[i];break;case"question":var r=n[i]}}}t.print("{}".format(r),a({end:""}));var _=window.prompt("\n".join(t.buffer.py_split("\n").__getslice__(-8,null,1)));return t.print(_),_})}})();Z.print,Z.input,grist.ready(z({requiredAccess:"full",allowSelectBy:!0}));var K=function(t,r,e){var n=document.createElement("table"),i=document.createElement("thead"),_=document.createElement("tr");for(var o of e){var s=document.createElement("th");s.appendChild(document.createTextNode(o)),_.appendChild(s)}i.appendChild(_);var a=document.createElement("tbody");for(var u of r){var _=document.createElement("tr");for(var l of u){var c=document.createElement("td");c.appendChild(document.createTextNode(l)),_.appendChild(c)}a.appendChild(_)}n.appendChild(i),n.appendChild(a),document.getElementById(t).firstChild.replaceWith(n)},J=document.querySelector("#query"),V=document.querySelector("#q"),X=document.querySelector("#reply"),G=async function(t){if(t.ctrlKey&&13==t.which){var r=await grist.docApi.getAccessToken(z({readOnly:!0})),e=await fetch("{}/sql?auth={}&q={}".format(r.baseUrl,r.token,J.value)).then(function(t){return t.json()});if(e.records){if(e.records[0]){var n=z(e.records[0].fields).py_keys();K("reply",function(){var t=[];for(var r of e.records)t.append(function(){var t=[];for(var e of n)t.append(JSON.stringify(r.fields[e],null,2));return t}());return t}(),n),null!=n&&(n.__contains__ instanceof Function?n.__contains__("id"):n.indexOf?n.indexOf("id")>-1:n.hasOwnProperty("id"))&&(await grist.setCursorPos(1),await grist.setSelectedRows(function(){var t=[];for(var r of e.records)t.append(r.fields.id);return t}()))}else X.innerHTML="No result."}else console.warn("ERR\n",e),X.innerHTML=e.error;t.preventDefault()}};J.addEventListener("keydown",G);//# sourceMappingURL=index.ab709031.js.map

//# sourceMappingURL=index.ab709031.js.map
